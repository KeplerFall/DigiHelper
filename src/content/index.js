const bossInfo = [
    {
        "bp": "408",
        "stage": "13",
        "cooldown": "60",
        "bossName": "Pagumon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Pagumon.gif"
        },
        {
        "bp": "476",
        "stage": "19",
        "cooldown": "60",
        "bossName": "DemiMeramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/DemiMeramon.gif"
        },
        {
        "bp": "1030",
        "stage": "24",
        "cooldown": "60",
        "bossName": "Gazimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Gazimon.gif"
        },
        {
        "bp": "1348",
        "stage": "29",
        "cooldown": "60",
        "bossName": "Kuwagamon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Kuwagamon.gif"
        },
        {
        "bp": "1372",
        "stage": "34",
        "cooldown": "60",
        "bossName": "Shellmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Shellmon.gif"
        },
        {
        "bp": "1836",
        "stage": "39",
        "cooldown": "60",
        "bossName": "Seadramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Seadramon.gif"
        },
        {
        "bp": "1421",
        "stage": "44",
        "cooldown": "60",
        "bossName": "Meramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Meramon.gif"
        },
        {
        "bp": "2347",
        "stage": "49",
        "cooldown": "60",
        "bossName": "Andromon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Andromon.gif"
        },
        {
        "bp": "1976",
        "stage": "54",
        "cooldown": "60",
        "bossName": "KyodaiNumemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/KyodaiNumemon2.gif"
        },
        {
        "bp": "1836",
        "stage": "59",
        "cooldown": "60",
        "bossName": "Unimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Unimon.gif"
        },
        {
        "bp": "1836",
        "stage": "64",
        "cooldown": "60",
        "bossName": "Centarumon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Centarumon.gif"
        },
        {
        "bp": "1836",
        "stage": "69",
        "cooldown": "60",
        "bossName": "Frigimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Frigimon.gif"
        },
        {
        "bp": "1875",
        "stage": "81",
        "cooldown": "60",
        "bossName": "DarkTyrannomon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/DarkTyrannomon.gif"
        },
        {
        "bp": "2382",
        "stage": "86",
        "cooldown": "60",
        "bossName": "SkullGreymon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/SkullGreymon2.gif"
        },
        {
        "bp": "1842",
        "stage": "89",
        "cooldown": "60",
        "bossName": "Kokatorimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Kokatorimon.gif"
        },
        {
        "bp": "2463",
        "stage": "142",
        "cooldown": "60",
        "bossName": "Piximon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Piximon.gif"
        },
        {
        "bp": "2720",
        "stage": "92",
        "cooldown": "90",
        "bossName": "Etemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Etemon.gif"
        },
        {
        "bp": "1832",
        "stage": "72",
        "cooldown": "90",
        "bossName": "Devimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Devimon.gif"
        },
        {
        "bp": "3854",
        "stage": "95",
        "cooldown": "60",
        "bossName": "Digitamamon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Digitamamon.gif"
        },
        {
        "bp": "3788",
        "stage": "98",
        "cooldown": "60",
        "bossName": "Vademon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Vademon.gif"
        },
        {
        "bp": "3786",
        "stage": "101",
        "cooldown": "60",
        "bossName": "ShogunGekomon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/ShogunGekomon.gif"
        },
        {
        "bp": "3122",
        "stage": "104",
        "cooldown": "60",
        "bossName": "Tailmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Gatomon46202.gif"
        },
        {
        "bp": "3088",
        "stage": "107",
        "cooldown": "60",
        "bossName": "Pumpkinmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Pumpkinmon.gif"
        },
        {
        "bp": "4368",
        "stage": "110",
        "cooldown": "90",
        "bossName": "VenomMyotismon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/VenomMyotismon.gif"
        },
        {
        "bp": "3854",
        "stage": "113",
        "cooldown": "60",
        "bossName": "Whamon (Ultimate)",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Whamon.gif"
        },
        {
        "bp": "3788",
        "stage": "116",
        "cooldown": "60",
        "bossName": "MarineDevimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MarineDevimon.gif"
        },
        {
        "bp": "4794",
        "stage": "117",
        "cooldown": "90",
        "bossName": "MetalSeadramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MetalSeadramon.gif"
        },
        {
        "bp": "4551",
        "stage": "120",
        "cooldown": "60",
        "bossName": "Parasimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Parasimon.gif"
        },
        {
        "bp": "4485",
        "stage": "123",
        "cooldown": "60",
        "bossName": "Rosemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Rosemon.gif"
        },
        {
        "bp": "4729",
        "stage": "124",
        "cooldown": "90",
        "bossName": "Puppetmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Puppetmon.gif"
        },
        {
        "bp": "4545",
        "stage": "127",
        "cooldown": "60",
        "bossName": "RustTyranomon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/RustTyranomon19480.gif"
        },
        {
        "bp": "4485",
        "stage": "130",
        "cooldown": "60",
        "bossName": "MetalEtemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MetalEtemon.gif"
        },
        {
        "bp": "4757",
        "stage": "131",
        "cooldown": "90",
        "bossName": "Machinedramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Machinedramon.gif"
        },
        {
        "bp": "4486",
        "stage": "134",
        "cooldown": "60",
        "bossName": "Ghoulmon (Black)",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Ghoulmon (Black)9966.gif"
        },
        {
        "bp": "4448",
        "stage": "137",
        "cooldown": "60",
        "bossName": "Callismon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Callismon.gif"
        },
        {
        "bp": "4727",
        "stage": "138",
        "cooldown": "90",
        "bossName": "Piedmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Piedmon.gif"
        },
        {
        "bp": "5070",
        "stage": "139",
        "cooldown": "180",
        "bossName": "Apocalymon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Apocalymon.gif"
        },
        {
        "bp": "491",
        "stage": "240",
        "cooldown": "60",
        "bossName": "Gazimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Gazimon.gif"
        },
        {
        "bp": "2514",
        "stage": "243",
        "cooldown": "60",
        "bossName": "RedVegiemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/RedVegiemon.gif"
        },
        {
        "bp": "2897",
        "stage": "246",
        "cooldown": "60",
        "bossName": "Andromon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Andromon.gif"
        },
        {
        "bp": "2299",
        "stage": "249",
        "cooldown": "60",
        "bossName": "DarkTyrannomon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/DarkTyrannomon.gif"
        },
        {
        "bp": "3660",
        "stage": "252",
        "cooldown": "60",
        "bossName": "SkullGreymon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/SkullGreymon2.gif"
        },
        {
        "bp": "3440",
        "stage": "255",
        "cooldown": "60",
        "bossName": "MetalGreymon (Virus)",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MetalGreymon (Virus).gif"
        },
        {
        "bp": "3962",
        "stage": "258",
        "cooldown": "60",
        "bossName": "Dragomon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Dragomon.gif"
        },
        {
        "bp": "2914",
        "stage": "261",
        "cooldown": "60",
        "bossName": "ShogunGekomon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/ShogunGekomon.gif"
        },
        {
        "bp": "2986",
        "stage": "264",
        "cooldown": "60",
        "bossName": "MegaSeadramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MegaSeadramon.gif"
        },
        {
        "bp": "2357",
        "stage": "267",
        "cooldown": "60",
        "bossName": "Devimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Devimon.gif"
        },
        {
        "bp": "2934",
        "stage": "270",
        "cooldown": "60",
        "bossName": "Piximon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Piximon.gif"
        },
        {
        "bp": "4475",
        "stage": "274",
        "cooldown": "90",
        "bossName": "Kimeramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Kimeramon2.gif"
        },
        {
        "bp": "2274",
        "stage": "273",
        "cooldown": "60",
        "bossName": "Golemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Golemon.gif"
        },
        {
        "bp": "3004",
        "stage": "277",
        "cooldown": "60",
        "bossName": "Okuwamon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Okuwamon.gif"
        },
        {
        "bp": "2933",
        "stage": "283",
        "cooldown": "60",
        "bossName": "MagnaAngemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MagnaAngemon.gif"
        },
        {
        "bp": "5500",
        "stage": "284",
        "cooldown": "90",
        "bossName": "BlackWarGreymon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/BlackWarGreymon.gif"
        },
        {
        "bp": "4120",
        "stage": "287",
        "cooldown": "60",
        "bossName": "MetalMamemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MetalMamemon.gif"
        },
        {
        "bp": "4116",
        "stage": "290",
        "cooldown": "60",
        "bossName": "SkullMeramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/SkullMeramon.gif"
        },
        {
        "bp": "3205",
        "stage": "293",
        "cooldown": "60",
        "bossName": "SkullSatamon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/SkullSatamon.gif"
        },
        {
        "bp": "6650",
        "stage": "294",
        "cooldown": "90",
        "bossName": "Daemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Daemon.gif"
        },
        {
        "bp": "6623",
        "stage": "295",
        "cooldown": "180",
        "bossName": "MaloMyotismon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MaloMyotismon.gif"
        },
        {
        "bp": "3102",
        "stage": "280",
        "cooldown": "60",
        "bossName": "Arukenimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Arukenimon.gif"
        },
        {
        "bp": "4054",
        "stage": "308",
        "cooldown": "60",
        "bossName": "Chamelemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Chamelemon21221.gif"
        },
        {
        "bp": "2001",
        "stage": "311",
        "cooldown": "60",
        "bossName": "Ogremon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Ogremon.gif"
        },
        {
        "bp": "2709",
        "stage": "314",
        "cooldown": "60",
        "bossName": "Gorillamon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Gorillamon.gif"
        },
        {
        "bp": "2835",
        "stage": "317",
        "cooldown": "60",
        "bossName": "Devidramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Devidramon.gif"
        },
        {
        "bp": "4643",
        "stage": "320",
        "cooldown": "60",
        "bossName": "ExTyrannomon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/ExTyrannomon.gif"
        },
        {
        "bp": "4490",
        "stage": "323",
        "cooldown": "60",
        "bossName": "MarineDevimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/MarineDevimon.gif"
        },
        {
        "bp": "5292",
        "stage": "324",
        "cooldown": "90",
        "bossName": "Giromon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Giromon.gif"
        },
        {
        "bp": "9689",
        "stage": "327",
        "cooldown": "60",
        "bossName": "Mihiramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Mihiramon.gif"
        },
        {
        "bp": "8949",
        "stage": "330",
        "cooldown": "60",
        "bossName": "Sandiramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Sandiramon.gif"
        },
        {
        "bp": "9102",
        "stage": "333",
        "cooldown": "60",
        "bossName": "Sinduramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Sinduramon.gif"
        },
        {
        "bp": "9179",
        "stage": "336",
        "cooldown": "60",
        "bossName": "Pajiramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Pajiramon.png"
        },
        {
        "bp": "8909",
        "stage": "339",
        "cooldown": "60",
        "bossName": "Vajramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Vajramon.gif"
        },
        {
        "bp": "11087",
        "stage": "342",
        "cooldown": "60",
        "bossName": "Indramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Indramon12401.gif"
        },
        {
        "bp": "8994",
        "stage": "345",
        "cooldown": "60",
        "bossName": "Kumbhiramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Kumbhiramon.gif"
        },
        {
        "bp": "11339",
        "stage": "348",
        "cooldown": "60",
        "bossName": "Vikaralamon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Vikaralamon.gif"
        },
        {
        "bp": "9812",
        "stage": "351",
        "cooldown": "60",
        "bossName": "Majiramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Majiramon.gif"
        },
        {
        "bp": "10449",
        "stage": "354",
        "cooldown": "60",
        "bossName": "Antylamon (Virus)",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Antylamon (Virus).gif"
        },
        {
        "bp": "11020",
        "stage": "357",
        "cooldown": "60",
        "bossName": "Caturamon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Caturamon.gif"
        },
        {
        "bp": "10136",
        "stage": "360",
        "cooldown": "60",
        "bossName": "Makuramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Makuramon7508.gif"
        },
        {
        "bp": "8266",
        "stage": "361",
        "cooldown": "90",
        "bossName": "Beelzemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Beelzemon.gif"
        },
        {
        "bp": "11826",
        "stage": "362",
        "cooldown": "90",
        "bossName": "Baihumon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Baihumon.gif"
        },
        {
        "bp": "9472",
        "stage": "363",
        "cooldown": "90",
        "bossName": "Ebonwumon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Ebonwumon.gif"
        },
        {
        "bp": "9320",
        "stage": "364",
        "cooldown": "90",
        "bossName": "Azulongmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Azulongmon.gif"
        },
        {
        "bp": "9540",
        "stage": "365",
        "cooldown": "90",
        "bossName": "Zhuqiaomon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Zhuqiaomon.gif"
        },
        {
        "bp": "7104",
        "stage": "366",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-01",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper1.gif"
        },
        {
        "bp": "3558",
        "stage": "367",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-02",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper2.gif"
        },
        {
        "bp": "6232",
        "stage": "368",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-03",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper3.gif"
        },
        {
        "bp": "3989",
        "stage": "369",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-04",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper ADR-04.gif"
        },
        {
        "bp": "6020",
        "stage": "370",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-05",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper5.gif"
        },
        {
        "bp": "8095",
        "stage": "371",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-06",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper ADR-06.gif"
        },
        {
        "bp": "8235",
        "stage": "372",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-07",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper ADR-07.gif"
        },
        {
        "bp": "6107",
        "stage": "373",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-08",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper ADR-08.gif"
        },
        {
        "bp": "8196",
        "stage": "374",
        "cooldown": "60",
        "bossName": "D-Reaper ADR-09",
        "bossUrl": "https://digipets.net/recursos/img/digimons/D-Reaper ADR-09.gif"
        },
        {
        "bp": "12535",
        "stage": "375",
        "cooldown": "180",
        "bossName": "Mother D-Reaper",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Mother D-Reaper.gif"
        },
        {
        "bp": "5158",
        "stage": "399",
        "cooldown": "60",
        "bossName": "Cerberumon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Cerberumon.gif"
        },
        {
        "bp": "2066",
        "stage": "402",
        "cooldown": "60",
        "bossName": "Raremon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Raremon.gif"
        },
        {
        "bp": "3543",
        "stage": "404",
        "cooldown": "60",
        "bossName": "Wizardmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Wizardmon44431.gif"
        },
        {
        "bp": "4864",
        "stage": "407",
        "cooldown": "60",
        "bossName": "Woodmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Woodmon.gif"
        },
        {
        "bp": "4996",
        "stage": "409",
        "cooldown": "60",
        "bossName": "Snimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Snimon.gif"
        },
        {
        "bp": "5994",
        "stage": "412",
        "cooldown": "90",
        "bossName": "Grumblemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Grumblemon46280.gif"
        },
        {
        "bp": "7663",
        "stage": "415",
        "cooldown": "60",
        "bossName": "WaruMonzaemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/WaruMonzaemon.gif"
        },
        {
        "bp": "8862",
        "stage": "418",
        "cooldown": "60",
        "bossName": "Gigasmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Gigasmon28385.gif"
        },
        {
        "bp": "4645",
        "stage": "421",
        "cooldown": "60",
        "bossName": "BurningGreymon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/BurningGreymon.gif"
        },
        {
        "bp": "8413",
        "stage": "424",
        "cooldown": "60",
        "bossName": "Mercurymon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Mercurymon.gif"
        },
        {
        "bp": "9558",
        "stage": "426",
        "cooldown": "60",
        "bossName": "Petaldramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Petaldramon42683.gif"
        },
        {
        "bp": "9563",
        "stage": "429",
        "cooldown": "60",
        "bossName": "Calmaramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Calmaramon30747.gif"
        },
        {
        "bp": "10658",
        "stage": "432",
        "cooldown": "60",
        "bossName": "Petaldramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Petaldramon42683.gif"
        },
        {
        "bp": "9428",
        "stage": "435",
        "cooldown": "60",
        "bossName": "Calmaramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Calmaramon30747.gif"
        },
        {
        "bp": "9648",
        "stage": "438",
        "cooldown": "60",
        "bossName": "Karatenmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Karatenmon.gif"
        },
        {
        "bp": "9906",
        "stage": "440",
        "cooldown": "60",
        "bossName": "Petaldramon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Petaldramon42683.gif"
        },
        {
        "bp": "6971",
        "stage": "442",
        "cooldown": "60",
        "bossName": "Duskmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Duskmon.gif"
        },
        {
        "bp": "9067",
        "stage": "444",
        "cooldown": "60",
        "bossName": "ShadowSeraphimon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/ShadowSeraphimon.gif"
        },
        {
        "bp": "9523",
        "stage": "447",
        "cooldown": "60",
        "bossName": "Velgemon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Velgemon57279.gif"
        },
        {
        "bp": "11081",
        "stage": "449",
        "cooldown": "60",
        "bossName": "Cherubimon (Evil)",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Cherubimon (Evil).gif"
        },
        {
        "bp": "12270",
        "stage": "451",
        "cooldown": "90",
        "bossName": "Cherubimon (Evil)",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Cherubimon (Evil).gif"
        },
        {
        "bp": "13217",
        "stage": "454",
        "cooldown": "60",
        "bossName": "Dynasmon",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Dynasmon.gif"
        },
        {
        "bp": "13176",
        "stage": "457",
        "cooldown": "90",
        "bossName": "Lucemon Shadowlord Mode",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Lucemon Shadowlord Mode.gif"
        },
        {
        "bp": "15694",
        "stage": "458",
        "cooldown": "180",
        "bossName": "Lucemon Larva",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Lucemon Larva.gif"
        }
]

const digitamas = [
    {
        "bossName": "Dorimon",
        "stage": "143",
        "cooldown": "15",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Dorimon.gif",
        "bp": "175"
        
    },
    {
        "bossName": "Dorumon",
        "stage": "144",
        "cooldown": "30",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Dorumon.gif",
        "bp": "468"
    },
    {
        "bossName": "Dorugamon",
        "stage": "145",
        "cooldown": "45",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Dorugamon.gif",
        "bp": "883"
    },
    {
        "bossName": "DoruGreymon",
        "stage": "146",
        "cooldown": "60",
        "bossUrl": "https://digipets.net/recursos/img/digimons/DoruGreymon.gif",
        "bp": "1474"
    },
    {
        "bossName": "Dorugoramon",
        "stage": "381",
        "cooldown": "70",
        "bossUrl": "https://digipets.net/recursos/img/digimons/Dorugoramon.gif",
        "bp": "2184"
    }
]

const appendBossButton = (href) =>{
    if(document.querySelector("#kf-goToNextBoss")) return;
    const nextBossButton = document.createElement('a')
        nextBossButton.href = `/batalha\?estagio=${href}#DP`
        nextBossButton.innerHTML = `
        <button id="kf-goToNextBoss" class="btn btn-primary btn-flat">
            Ir para o próximo Boss
        </button>
    `
    const bsContainer = document.querySelector("#BatalhaEstagios")
    bsContainer.append(nextBossButton);
    bsContainer.style.marginLeft = "122px"
}


const appendHealButton = () =>{
    const healPartyButton = document.createElement('button')
    healPartyButton.classList = "btn btn-primary btn-flat"
    healPartyButton.innerHTML = "Curar Party!"
    healPartyButton.style.position = "absolute"
    healPartyButton.style.top = "-28px";
    healPartyButton.style.left = "50%";
    healPartyButton.style.transform = "translateX(-50%)"
    healPartyButton.style.backgroundColor = "green"

    healPartyButton.addEventListener("click", ()=>{
        if(healPartyButton.innerHTML != "Curar Party!") return;
        fetch('/ajax/dp-locais-hospital.php', {
            method: "POST",
            headers: {
                "Accept": "application/json, text/javascript, */*; q=0.01",
                "Accept-Encoding": "gzip, deflate, br, zstd",
                "Accept-Language": "pt-BR,pt;q=0.7",
                "Cookie": document.cookie,
                "Origin": "https://digipets.net",
                "Referer": "https://digipets.net/hospital",
                "Sec-CH-UA": `"Not(A:Brand";v="99", "Brave";v="133", "Chromium";v="133"`,
                "Sec-CH-UA-Mobile": "?0",
                "Sec-CH-UA-Platform": `"Windows"`,
                "Sec-Fetch-Dest": "empty",
                "Sec-Fetch-Mode": "cors",
                "Sec-Fetch-Site": "same-origin",
                "Sec-GPC": "1",
                "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36",
                "X-Requested-With": "XMLHttpRequest"
            }
        }).then(res=>{
            if(!res){
                throw new Error(`Erro no http`, res.status)
            }
            return res.json();
        }).then((res)=>{
            if(res?.partybox){
                healPartyButton.innerHTML = `Curas restante: ${res.chances}`
                document.querySelector("#BoxTeamDigimons").innerHTML = res.partybox
                const repeat_button = document.querySelector("#RepetirEstagio");
                if(repeat_button.disabled){
                    repeat_button.disabled = false;
                }
            }else{
                healPartyButton.innerHTML = res.mensagem.includes('Aguarde o cooldown') ? "Curas restantes: 0" :"Seus digimons não precisam de cura!"
            }
            
        }).catch(err=>{
            
        })
    })

    const bsContainer = document.querySelector("#BatalhaEstagios")
    bsContainer.style.paddingTop = "12px"
    bsContainer.append(healPartyButton);
    
}


const battleFinishObserver = (currentBoss) =>{
    const bfObserver = new MutationObserver((mutationList, observerInstance)=>{
        //Start checking if boss is on cooldown
        const msgContainer = document.querySelector("#MSG");
        if(msgContainer.childNodes.length){
            addBossCooldown(currentBoss);
            observerInstance.disconnect();
            return;
        }
        //End cd checking

        const repeat_button = document.querySelector("#RepetirEstagio");
        if(!repeat_button) return;

        if(repeat_button.checkVisibility()){
            if(!repeat_button.disabled && currentBoss){
                addBossCooldown(currentBoss);
                chrome.storage.local.get(["bossCooldown", "ignoredBoss"], ({bossCooldown, ignoredBoss})=>{
                    let searchParams = new URLSearchParams(window.location.search)
                    let currentStage = String(searchParams.get("estagio"))
                    if(bossInfo.find(itm => itm.stage == currentBoss.stage)){
                        for(let i = 0; i < bossInfo.length; i++){
                            if(ignoredBoss && ignoredBoss?.includes(bossInfo[i].stage)) continue
                            if(bossInfo[i].stage == currentStage) continue;
                            let cooldownReference = bossCooldown.find(item => item.stage == bossInfo[i].stage);
                            if(!cooldownReference){
                                appendBossButton(bossInfo[i].stage)
                                break;
                            }
                            let cooldownDate = new Date(cooldownReference.cooldown);
                            if(cooldownDate < Date.now()){
                                appendBossButton(bossInfo[i].stage)
                                break;
                            }
                        }
                    }
                })
            }
            
            appendHealButton();
            chrome.runtime.sendMessage(JSON.stringify({message: 'bossAlert', content: currentBoss}))
            observerInstance.disconnect()
        }
    })

    bfObserver.observe(document.body, {
        attributes: true,
        childList: true,
        subtree: true 
    });
}

function addBossCooldown({stage, cooldown}){
    if(!stage || !cooldown) return;

    chrome.storage.local.get(["bossCooldown", "configs"], ({bossCooldown, configs})=>{
        if(!bossCooldown){
            chrome.storage.local.set({bossCooldown: [{stage: stage, cooldown: (new Date(Date.now() + ((Number(cooldown)* (configs?.includes('mattOmni') ? 0.9 : 1)) * 60 * 1000))).toString()}]})
            return;
        }
        if(bossCooldown.find(item=> item.stage == stage) == undefined){
            chrome.storage.local.set({bossCooldown: [...bossCooldown, {stage: stage, cooldown: (new Date(Date.now() + (Number(cooldown) * (configs?.includes('mattOmni') ? 0.9 : 1)) * 60 * 1000)).toString()}]})
            return;
        }
        chrome.storage.local.set({bossCooldown: bossCooldown.map(item=>{
            return item.stage == stage ? {
                stage: stage,
                cooldown: (new Date(Date.now() + (Number(cooldown) * (configs?.includes('mattOmni') ? 0.9 : 1)) * 60 * 1000)).toString()
            } : item
        })})
    })
}

switch(window.location.pathname){
    case '/batalha':
        const battleParams = new URLSearchParams(window.location.search);
        const currentStage = battleParams.get("estagio");
        const bossBattle = bossInfo.find(item=> item.stage == currentStage)
        const digitamaBattle = digitamas.find(item => item.stage == currentStage)
        battleFinishObserver(bossBattle || digitamaBattle)
    break;
    case '/gearsavannah':
        const axes = Number(document.querySelector("#Machados").innerHTML)
        document.querySelector('.seletor_qnt').value = axes > 500 ? '500' : axes > 100 ? '100' : axes > 50 ? '50' : axes > 10 ? '10' : axes > 5 ? '5' : '1';
    break;
    case '/icelabyrinths':
        const pickaxes = Number(document.querySelector("#Picaretas").innerHTML)
        document.querySelector('.seletor_qnt').value = pickaxes > 500 ? '500' : pickaxes > 100 ? '100' : pickaxes > 50 ? '50' : pickaxes > 10 ? '10' : pickaxes > 5 ? '5' : '1';
    break;
}